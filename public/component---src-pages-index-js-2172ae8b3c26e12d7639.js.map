{"version":3,"sources":["webpack:///./src/components/plots.js","webpack:///./src/pages/index.js"],"names":["Plot","filename","html","size","width","type","src","className","dangerouslySetInnerHTML","__html","Plots","data","useState","setWidth","useEffect","handleResize","window","innerWidth","addEventListener","removeEventListener","useWidth","allMarkdownRemark","edges","map","node","key","frontmatter","slug","query","IndexPage","title","markdownRemark","allReferencesYaml","i","id","href","url","text"],"mappings":"qMAsBA,IAyCMA,EAAO,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,KAClBC,EADoC,EAAZC,MA5DN,IA6DiB,QAAU,QAEnD,OACE,oCACE,gCACE,2BAAOC,KAAK,gBAAgBC,IAAG,SAAWL,EAAX,SAA4BE,KAE7D,yBACEI,UAAU,eACVC,wBAAyB,CAAEC,OAAQP,OAM5BQ,EAzDD,WACZ,IAAMC,EAAI,OAqBJP,EAvCR,WAAqB,IAAD,EACQQ,mBAAS,MAA5BR,EADW,KACJS,EADI,KAclB,OAXAC,qBAAU,WAER,SAASC,IACPF,EAASG,OAAOC,YAGlB,OALAJ,EAASG,OAAOC,YAIhBD,OAAOE,iBAAiB,SAAUH,GAC3B,WACLC,OAAOG,oBAAoB,SAAUJ,MAEtC,IAEIX,EAyBOgB,GACd,OAAc,OAAVhB,EACK,KAIP,oCACGO,EAAKU,kBAAkBC,MAAMC,KAAI,gBAAGC,EAAH,EAAGA,KAAH,OAChC,kBAAC,EAAD,CACEC,IAAKD,EAAKE,YAAYC,KACtB1B,SAAUuB,EAAKE,YAAYzB,SAC3BC,KAAMsB,EAAKtB,KACXE,MAAOA,SC9BJwB,EAAK,aAqBHC,UAxCG,SAAC,GAAD,IAAGlB,EAAH,EAAGA,KAAH,OAChB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKmB,MAAM,SACX,yBACEvB,UAAU,kBACVC,wBAAyB,CAAEC,OAAQE,EAAKoB,eAAe7B,QAEzD,kBAAC,EAAD,MACA,6BACE,0CACCS,EAAKqB,kBAAkBV,MAAMC,KAAI,WAAWU,GAAX,IAAGT,EAAH,EAAGA,KAAH,OAChC,uBAAGC,IAAKD,EAAKG,KAAMO,GAAIV,EAAKG,MAC1B,uBAAGQ,KAAMX,EAAKY,KAAd,KAAwBH,EAAI,GAA5B,KADF,IACyCT,EAAKa,a","file":"component---src-pages-index-js-2172ae8b3c26e12d7639.js","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { useStaticQuery, graphql } from \"gatsby\"\n\nconst MOBILE_BREAKPOINT = 640\n\nfunction useWidth() {\n  const [width, setWidth] = useState(null)\n\n  useEffect(() => {\n    setWidth(window.innerWidth)\n    function handleResize() {\n      setWidth(window.innerWidth)\n    }\n    window.addEventListener(\"resize\", handleResize)\n    return () => {\n      window.removeEventListener(\"resize\", handleResize)\n    }\n  }, [])\n\n  return width\n}\n\nconst Plots = () => {\n  const data = useStaticQuery(\n    graphql`\n      query {\n        allMarkdownRemark(\n          sort: { order: ASC, fields: frontmatter___order }\n          filter: { frontmatter: { type: { eq: \"plot\" } } }\n        ) {\n          edges {\n            node {\n              html\n              frontmatter {\n                filename\n                slug\n              }\n            }\n          }\n        }\n      }\n    `\n  )\n\n  const width = useWidth()\n  if (width === null) {\n    return null\n  }\n\n  return (\n    <>\n      {data.allMarkdownRemark.edges.map(({ node }) => (\n        <Plot\n          key={node.frontmatter.slug}\n          filename={node.frontmatter.filename}\n          html={node.html}\n          width={width}\n        />\n      ))}\n    </>\n  )\n}\n\nconst Plot = ({ filename, html, width }) => {\n  const size = width < MOBILE_BREAKPOINT ? \"small\" : \"large\"\n\n  return (\n    <>\n      <figure>\n        <embed type=\"image/svg+xml\" src={`/plot/${filename}?size=${size}`} />\n      </figure>\n      <div\n        className=\"plot-content\"\n        dangerouslySetInnerHTML={{ __html: html }}\n      />\n    </>\n  )\n}\n\nexport default Plots\n","import React from \"react\"\nimport { graphql } from \"gatsby\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport Plots from \"../components/plots\"\n\nconst IndexPage = ({ data }) => (\n  <Layout>\n    <SEO title=\"Home\" />\n    <div\n      className=\"summary-content\"\n      dangerouslySetInnerHTML={{ __html: data.markdownRemark.html }}\n    />\n    <Plots />\n    <div>\n      <h1>References</h1>\n      {data.allReferencesYaml.edges.map(({ node }, i) => (\n        <p key={node.slug} id={node.slug}>\n          <a href={node.url}>{`[${i + 1}]`}</a> {node.text}\n        </p>\n      ))}\n    </div>\n  </Layout>\n)\n\nexport const query = graphql`\n  query IndexPageQuery {\n    markdownRemark(frontmatter: { slug: { eq: \"summary\" } }) {\n      frontmatter {\n        title\n        slug\n      }\n      html\n    }\n    allReferencesYaml {\n      edges {\n        node {\n          slug\n          text\n          url\n        }\n      }\n    }\n  }\n`\n\nexport default IndexPage\n"],"sourceRoot":""}